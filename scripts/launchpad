#!/usr/bin/env python3

from lib import launchpad_anon

lp = launchpad_anon()
owner = lp.people["system76"]
archive = owner.getPPAByName(name="pop")

series = "https://api.launchpad.net/devel/ubuntu/artful"
arch_series = series + "/amd64"
for source in archive.getPublishedSources(status="Published", distro_series=series):
    print(source.source_package_name)
    for binary in source.getPublishedBinaries():
        if binary.distro_arch_series_link == arch_series:
            print("  " + binary.binary_package_name + ": " + str(binary.getDownloadCount()))
